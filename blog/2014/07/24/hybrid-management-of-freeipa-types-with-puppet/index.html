<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="James Shubin">

	<title>Hybrid management of FreeIPA types with Puppet - https://purpleidea.com/</title>
	<link rel="canonical" href="https://purpleidea.com/blog/2014/07/24/hybrid-management-of-freeipa-types-with-puppet/">

	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/fontawesome-all.css" rel="stylesheet">
	<link href="/css/custom.css" rel="stylesheet">
	<link href="/css/staticman.css" rel="stylesheet">


	


</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle Navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://purpleidea.com/">purpleidea.com</a>
			</div>
			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">

					<li><a href="/about/">about</a></li>
					<li><a href="/blog/">blog</a></li>
					<li><a href="/projects/">projects</a></li>
					<li><a href="/talks/">talks</a></li>
					<li><a href="/misc/">misc</a></li>
					<li><a href="/contact/">contact</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

	<div class="row">
		<div class="col-md-9">
			<div class="well well-sm">
					<h3><strong>Hybrid management of FreeIPA types with Puppet</strong><br><small></small></h3>
					<hr>
					<p><em>(Note: this hybrid management technique is being demonstrated in the <a href="https://github.com/purpleidea/puppet-ipa">puppet-ipa</a> module for <a href="https://www.freeipa.org/">FreeIPA</a>, but the idea could be used for other modules and scenarios too. See below for some use cases&hellip;)</em></p>
<p>The error message that puppet hackers are probably most familiar is:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>Error: Duplicate declaration: Thing[/foo/bar] is already declared in file /tmp/baz.pp:2; 
</span></span><span style="display:flex;"><span>cannot redeclare at /tmp/baz.pp:4 on node computer.example.com
</span></span></code></pre></div><p>Typically this means that there is either a bug in your code, or someone has defined something more than once. As annoying as this might be, a compile error happens for a reason: puppet detected a problem, and it is giving you a chance to fix it, without first running code that could otherwise leave your machine in an undefined state.</p>
<p><span style="text-decoration:underline;">The fundamental problem</span></p>
<p>The fundamental problem is that two or more contradictory declarative definitions might not be able to be properly resolved. For example, assume the following code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">package</span> { <span style="">&#39;</span>awesome<span style="">&#39;</span>:
</span></span><span style="display:flex;"><span>    ensure =&gt; present,
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a2f;font-weight:bold">package</span> { <span style="">&#39;</span>awesome<span style="">&#39;</span>:
</span></span><span style="display:flex;"><span>    ensure =&gt; absent,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Since the above are contradictory, they can&rsquo;t be reconciled, and a compiler error occurs. If they were identical, or if they would produce the same effect, then it wouldn&rsquo;t be an issue, however this is not directly allowed due to a flaw in the design of puppet core. (There is an <a href="https://github.com/puppetlabs/puppetlabs-stdlib#ensure_resource">ensure_resource</a> workaround, to be used very cautiously!)</p>
<p><span style="text-decoration:underline;">FreeIPA types</span></p>
<p>The <em><a href="https://github.com/purpleidea/puppet-ipa">puppet-ipa</a></em> module exposes a bunch of different types that map to FreeIPA objects. The most common are <a href="https://github.com/purpleidea/puppet-ipa/blob/master/manifests/server/user.pp#L18">users</a>, <a href="https://github.com/purpleidea/puppet-ipa/blob/master/manifests/server/host.pp#L18">hosts</a>, and <a href="https://github.com/purpleidea/puppet-ipa/blob/master/manifests/server/service.pp#L18">services</a>. If you run a dedicated puppet shop, then puppet can be your interface to manage FreeIPA, and life will go on as usual. The caveat is that FreeIPA provides a stunning <em>web-ui</em>, and a powerful <em>cli</em>, and it would be a shame to ignore both of these.</p>
<table style="text-align:center; width:80%; margin:0 auto;"><tr><td><a href="freeipa-screenshot-users-jjj.png"><img class="size-large wp-image-855" src="freeipa-screenshot-users-jjj.png" alt="The FreeIPA webui is gorgeous. It even gets better in the new 4.0 release." width="100%" height="100%" /></a></td></tr><tr><td> The FreeIPA webui is gorgeous. It even gets better in the new 4.0 release.</td></tr></table></br />
<p><span style="text-decoration:underline;">Hybrid management</span></p>
<p>As the title divulges, my <em>puppet-ipa</em> module actually allows hybrid management of the FreeIPA types. This means that puppet can be used in conjunction with the <em>web-ui</em> and the <em>cli</em> to create/modify/delete FreeIPA types. This took a lot of extra thought and engineering to make possible, but I think it was worth the work. This feature is optional, but if you do want to use it, you&rsquo;ll need to let puppet know of your intentions. Here&rsquo;s how&hellip;</p>
<p><span style="text-decoration:underline;">Type excludes</span></p>
<p>In order to tell puppet to leave certain types alone, the main <code>ipa::server</code> class has <em><a href="https://github.com/purpleidea/puppet-ipa/blob/master/manifests/server.pp#L59">type_excludes</a></em>. Here is an excerpt from that code:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># special
</span></span><span style="display:flex;"><span># NOTE: host_excludes is matched with bash regexp matching in: [[ =~ ]]
</span></span><span style="display:flex;"><span># if the string regexp passed contains quotes, string matching is done:
</span></span><span style="display:flex;"><span># $string=&#39;&#34;hostname.example.com&#34;&#39; vs: $regexp=&#39;hostname.example.com&#39; !
</span></span><span style="display:flex;"><span># obviously, each pattern in the array is tried, and any match will do.
</span></span><span style="display:flex;"><span># invalid expressions might cause breakage! use this at your own risk!!
</span></span><span style="display:flex;"><span># remember that you are matching against the fqdn&#39;s, which have dots...
</span></span><span style="display:flex;"><span># a value of true, will automatically add the * character to match all.
</span></span><span style="display:flex;"><span>$host_excludes = [],       # never purge these host excludes...
</span></span><span style="display:flex;"><span>$service_excludes = [],    # never purge these service excludes...
</span></span><span style="display:flex;"><span>$user_excludes = [],       # never purge these user excludes...
</span></span></code></pre></div><p>Each of these excludes lets you specify a pattern (or an array of patterns) which will be matched against each defined type, and which, if matched, will ensure that your type is not removed if the puppet definition for it is undefined.</p>
<p>Currently these <em>type_excludes</em> support pattern matching in <a href="https://en.wikipedia.org/wiki/Bash_(software)"><em>bash</em></a> regexp syntax. If there is a strong demand for regexp matching in either <a href="https://en.wikipedia.org/wiki/Python_%28programming_language%29"><em>python</em></a> or <a href="https://en.wikipedia.org/wiki/Ruby_%28programming_language%29"><em>ruby</em></a> syntax, then I will add it. In addition, other types of exclusions could be added. If you&rsquo;d like to exclude based on some types value, creation time, or some other property, these could be investigated. The important thing is to understand your use case, so that I know what is both useful and necessary.</p>
<p>Here is an example of some <em>host_excludes</em>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>class { &#39;::ipa::server&#39;:
</span></span><span style="display:flex;"><span>    host_excludes =&gt; [
</span></span><span style="display:flex;"><span>        &#34;&#39;foo-42.example.com&#39;&#34;,                  # exact string match
</span></span><span style="display:flex;"><span>        &#39;&#34;foo-bar.example.com&#34;&#39;,                 # exact string match
</span></span><span style="display:flex;"><span>        &#34;^[a-z0-9-]*\\-foo\\.example\\.com$&#34;,    # *-foo.example.com or:
</span></span><span style="display:flex;"><span>        &#34;^[[:alpha:]]{1}[[:alnum:]-]*\\-foo\\.example\\.com$&#34;,
</span></span><span style="display:flex;"><span>        &#34;^foo\\-[0-9]{1,}\\.example\\.com&#34;       # foo-&lt;\d&gt;.example.com
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><a href="https://github.com/purpleidea/puppet-ipa/blob/master/examples/host-excludes.pp">This example</a> and others are listed in the <a href="https://github.com/purpleidea/puppet-ipa/tree/master/examples">examples/</a> folder.</p>
<p><span style="text-decoration:underline;">Type modification</span></p>
<p>Each type in puppet has a <code>$modify</code> parameter. The significance of this is quite simple: if this value is set to <em>false</em>, then puppet will not be able to modify the type. (It will be able to remove the type if it becomes undefined, which is what the <em>type_excludes</em> mentioned above is used for.)</p>
<p>This <code>$modify</code> parameter is particularly useful if you&rsquo;d like to define your types with puppet, but allow them to be modified afterwards by either the <em>web-ui</em> or the <em>cli</em>. If you change a users phone number, and this parameter is <em>false</em>, then it will not be reverted by puppet. The usefulness of this field is that it allows you to define the type, so that if it is removed manually in the FreeIPA directory, then puppet will notice its absence, and re-create it with the defaults you originally defined.</p>
<p>Here is an example user definition that is using <code>$modify</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ipa::server::user { &#39;arthur@EXAMPLE.COM&#39;:
</span></span><span style="display:flex;"><span>    first =&gt; &#39;Arthur&#39;,
</span></span><span style="display:flex;"><span>    last =&gt; &#39;Guyton&#39;,
</span></span><span style="display:flex;"><span>    jobtitle =&gt; &#39;Physiologist&#39;,
</span></span><span style="display:flex;"><span>    orgunit =&gt; &#39;Research&#39;,
</span></span><span style="display:flex;"><span>    #modify =&gt; true, # optional, since true is the default
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>By default, in true puppet style, the <code>$modify</code> parameter defaults to <code>true</code>. One thing to keep in mind: if you decide to update the puppet definition, then the type <em>will</em> get updated, which could potentially overwrite any manual change you made.</p>
<p><span style="text-decoration:underline;">Type watching</span></p>
<p>Type watching is the strict form of type modification. As with type modification, each type has a <code>$watch</code> parameter. This also defaults to <em>true</em>. When this parameter is <em>true</em>, each puppet run will compare the parameters defined in puppet with what is set on the FreeIPA server. If they are different, then puppet will run a modify command so that harmony is reconciled. This is particularly useful for ensuring that the policy that you&rsquo;ve defined for certain types in puppet definitions is respected.</p>
<p>Here&rsquo;s an <a href="https://github.com/purpleidea/puppet-ipa/blob/master/examples/simple-usage.pp#L10">example</a>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>ipa::server::host { &#39;nfs&#39;:    # NOTE: adding .${domain} is a good idea....
</span></span><span style="display:flex;"><span>    domain =&gt; &#39;example.com&#39;,
</span></span><span style="display:flex;"><span>    macaddress =&gt; &#34;00:11:22:33:44:55&#34;,
</span></span><span style="display:flex;"><span>    random =&gt; true,        # set a one time password randomly
</span></span><span style="display:flex;"><span>    locality =&gt; &#39;Montreal, Canada&#39;,
</span></span><span style="display:flex;"><span>    location =&gt; &#39;&lt;a href=&#34;https://en.wikipedia.org/wiki/Room_641A&#34;&gt;Room 641A&lt;/a&gt;&#39;,
</span></span><span style="display:flex;"><span>    platform =&gt; &#39;Supermicro&#39;,
</span></span><span style="display:flex;"><span>    osstring =&gt; &#39;RHEL 6.6 x86_64&#39;,
</span></span><span style="display:flex;"><span>    comment =&gt; &#39;Simple NFSv4 Server&#39;,
</span></span><span style="display:flex;"><span>    watch =&gt; true,    # read and understand the docs well
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>If someone were to change one of these parameters, puppet would revert it. This detection happens through an elaborate <a href="https://github.com/purpleidea/puppet-ipa/commit/ba515e13968bf83902735cfb7be33556db6ae4ec">difference engine</a>. This was mentioned briefly in an <a href="/blog/2013/07/09/a-puppet-ipa-user-type-and-a-new-difference-engine/">earlier article</a>, and is probably worth looking at if you&rsquo;re interested in python and function decorators.</p>
<p>Keep in mind that it logically follows that you must be able to <code>$modify</code> to be able to <code>$watch</code>. If you forget and make this mistake, <em>puppet-ipa</em> will report the error. You can however, have different values of <code>$modify</code> and <code>$watch</code> per individual type.</p>
<p><span style="text-decoration:underline;">Use cases</span></p>
<p>With this hybrid management feature, a bunch of new use cases are now possible! Here are a few ideas:</p>
<ul>
	<li>Manage users, hosts, and services that your infrastructure requires, with puppet, but manage non-critical types manually.</li>
	<li>Manage FreeIPA servers with puppet, but let HR manage user entries with the <em>web-ui</em>.</li>
	<li>Manage new additions with puppet, but exclude historical entries from management while gradually migrating this data into puppet/hiera as time permits.</li>
	<li>Use the <em>cli</em> without fear that puppet will revert your work.</li>
	<li>Use puppet to ensure that certain types are present, but manage their data manually.</li>
	<li>Exclude your development subdomain or namespace from puppet management.</li>
	<li>Assert policy over a select set of types, but manage everything else by <em>web-ui</em> and <em>cli</em>.</li>
</ul>
<span style="text-decoration:underline;">Testing with Vagrant
</span>
<p>You might want to test this all out. It&rsquo;s all pretty automatic if you&rsquo;ve followed along with my <a href="/blog/2014/05/13/vagrant-on-fedora-with-libvirt-reprise/">earlier vagrant work</a> and my <em><a href="/blog/2014/01/08/automatically-deploying-glusterfs-with-puppet-gluster-vagrant/">puppet-gluster</a></em> work. You don&rsquo;t have to use vagrant, but it&rsquo;s all integrated for you in case that saves you time! The short summary is:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span><span style="color:#666">$</span> git clone <span style="color:#666">--</span>recursive https:<span style="color:#666">//</span>github<span style="color:#666">.</span>com<span style="color:#666">/</span>purpleidea<span style="color:#666">/</span>puppet<span style="color:#666">-</span>ipa
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> cd puppet<span style="color:#666">-</span>ipa<span style="color:#666">/</span>vagrant<span style="color:#666">/</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> vs
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> <span style="color:#080;font-style:italic"># edit puppet-ipa.yaml (although it&#39;s not necessary)</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> <span style="color:#080;font-style:italic"># edit puppet/manifests/site.pp (optionally, to add any types)</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> vup ipa1 <span style="color:#080;font-style:italic"># it can take a while to download freeipa rpm&#39;s</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> vp ipa1 <span style="color:#080;font-style:italic"># let the keepalived vip settle</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> vp ipa1 <span style="color:#080;font-style:italic"># once settled, ipa-server-install should run</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> <span style="color:#666">&lt;</span>a href<span style="color:#666">=</span><span style="color:#b44">&#34;https://gist.github.com/purpleidea/8071962#file-bashrc_vagrant-sh-L196&#34;</span><span style="color:#666">&gt;</span>vfwd<span style="color:#666">&lt;/</span>a<span style="color:#666">&gt;</span> ipa1 <span style="color:#666">80</span>:<span style="color:#666">80</span> <span style="color:#666">443</span>:<span style="color:#666">443</span> <span style="color:#080;font-style:italic"># if you didn&#39;t port forward before...</span>
</span></span><span style="display:flex;"><span><span style="color:#080;font-style:italic"># echo &#39;127.0.0.1   ipa1.example.com ipa1&#39; &gt;&gt; /etc/hosts</span>
</span></span><span style="display:flex;"><span><span style="color:#666">$</span> firefox https:<span style="color:#666">//</span>ipa1<span style="color:#666">.</span>example<span style="color:#666">.</span>com<span style="color:#666">/</span> <span style="color:#080;font-style:italic"># accept self-sign https cert</span>
</span></span></code></pre></div><p><span style="text-decoration:underline;">Conclusion</span></p>
<p>Sorry that I didn&rsquo;t write this article sooner. This feature has been baked in for a while now, but I simply forgot to blog about it! Since <em>puppet-ipa</em> is getting quite mature, it might be time for me to create some more formal documentation. Until then,</p>
<p>Happy hacking,</p>
<p>James</p>
<p><br /><i>You can <a target="_blank" href="https://m9rx.com/">hire James</a> and his team at <a target="_blank" href="https://m9rx.com/">m9rx corporation</a>.</i>

<br /><i>You can <a target="_blank" href="https://mastodon.social/@purpleidea">follow James on Mastodon</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://twitter.com/intent/follow?screen_name=purpleidea">follow James on Twitter</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://github.com/sponsors/purpleidea/">support James on GitHub</a> if you'd like to help sustain this kind of content.</i>

<br /><i>You can <a target="_blank" href="https://www.patreon.com/purpleidea">support James on Patreon</a> if you'd like to help sustain this kind of content.</i>
</p>

			</div>
		</div>

		
		<div class="col-md-3">
			<div class="well well-sm"> 
				<h4>July 24, 2014<br>
				<small>1519 words</small></h4>
				<hr>
				<strong>Categories</strong>
				<ul class="list-unstyled">
				
					<li><a href="/categories/technical">technical</a></li>
				
				</ul>
				<hr>
				<strong>Tags</strong><br>
				<a class="label label-default" href="/tags/bash">bash</a> <a class="label label-default" href="/tags/devops">devops</a> <a class="label label-default" href="/tags/difference-engine">difference engine</a> <a class="label label-default" href="/tags/fedora">fedora</a> <a class="label label-default" href="/tags/freeipa">freeipa</a> <a class="label label-default" href="/tags/function-decorator">function decorator</a> <a class="label label-default" href="/tags/hiera">hiera</a> <a class="label label-default" href="/tags/hybrid-management">hybrid management</a> <a class="label label-default" href="/tags/idm">idm</a> <a class="label label-default" href="/tags/planetdevops">planetdevops</a> <a class="label label-default" href="/tags/planetfedora">planetfedora</a> <a class="label label-default" href="/tags/planetpuppet">planetpuppet</a> <a class="label label-default" href="/tags/puppet">puppet</a> <a class="label label-default" href="/tags/puppet-gluster">puppet-gluster</a> <a class="label label-default" href="/tags/puppet-ipa">puppet-ipa</a> <a class="label label-default" href="/tags/puppet-ipa&#43;vagrant">puppet-ipa&#43;vagrant</a> <a class="label label-default" href="/tags/python">python</a> <a class="label label-default" href="/tags/ruby">ruby</a> <a class="label label-default" href="/tags/vagrant">vagrant</a> 
				
				<hr>
				<strong>Original URL</strong><br>
				<a href="https://ttboj.wordpress.com/2014/07/24/hybrid-management-of-freeipa-types-with-puppet/"><small>https://ttboj.wordpress.com/2014/07/24/hybrid-management-of-freeipa-types-with-puppet/</small></a>
				

				
			</div>
				<div class="panel panel-default">
		<div class="panel-heading" style="padding: 2px 15px;">
			<h4>Links...</h4>
		</div>
		<div class="panel-body">

			<a href="https://twitter.com/purpleidea" class="btn btn-info btn-xs"><i class="fa-brands fa-twitter-square fa-2x"></i></a>


			<a href="https://github.com/purpleidea/" class="btn btn-primary btn-xs"><i class="fa-brands fa-github-square fa-2x"></i></a>


			<a href="https://mastodon.social/@purpleidea" class="btn btn-primary btn-xs" style="background:#563ACC"><i class="fa-brands fa-mastodon fa-2x"></i></a>


	

			
		</div>
	</div>

		</div>
	</div>

	<div class="row">
		<hr>

	
<a name="comments"></a>
<section class="post-comments">
	<h3>Comments</h3>






	

	


	<p>Nothing yet.</p>

	<hr />
	<a name="comment"></a>
	<h3>Post a comment</h3>
	<form class="post-new-comment" method="POST" action="https://api.staticman.net/v2/entry/purpleidea/purpleidea.com/master/comments">
		<input type="hidden" name="options[redirect]" value="https://purpleidea.com/blog/2014/07/24/hybrid-management-of-freeipa-types-with-puppet/#comment-submitted">
		<input type="hidden" name="options[entryId]" value="blog/2014/07/24/hybrid-management-of-freeipa-types-with-puppet">
		<input type="hidden" name="options[reCaptcha][siteKey]" value="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp">
		<input type="hidden" name="options[reCaptcha][secret]" value="AEl4ul2uMOx2EL2LMm/84zzh8mWLYIYW&#43;v2EEu7webGOtAqyQiLBa6QLjPgnlyNjJxE3UeccxuBQIWqPzG96FsVl0AVTihhHt3OGR1hteAZUAhoJjnH&#43;7PoyC3x7d4KDLypopDn&#43;HzWowOpAZuvfHE08n&#43;G4omrP5fUfkOrH03A=">
		<div class="col-md-9">
			<div class="row">
				<textarea name="fields[message]" style="width: 80%; height: 50px;" class="post-comment-field" placeholder="Please enter your comment here..." rows="10"></textarea><br />
			</div>
			<div class="row">
				<input name="fields[name]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your name">
			</div>
			<div class="row">
				<input name="fields[email]" type="email" style="width: 50%;" class="post-comment-field" placeholder="Your email address">
			</div>
			<div class="row">
				<input name="fields[url]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your website">
			</div>
			<div class="row">
				<br />
				<div class="g-recaptcha" data-sitekey="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp"></div>
				<script src='https://www.google.com/recaptcha/api.js'></script>
				(sorry but the spammers were getting too crazy!)
			</div>
			<div class="row">
				<input type="submit" style="width: 80%;" class="post-comment-field btn btn-primary btn-xs" value="Submit">
			</div>
		</div>
	</form>
</section>

<div id="comment-submitted" class="dialog">
	<hr />
	<h3>Thank you</h3>
	<p>Your comment has been submitted and will be published if it gets approved.</p>
	<p><a href="https://github.com/purpleidea/purpleidea.com/pulls">Click here</a> to see the patch you generated.</p>
	<p><a href="#" class="btn">OK</a></p>
</div>


	</div>
		<footer>
		<div class="row">
			<hr>
			<div class="col-sm-12">
				<p>
				&copy; James Shubin 2025 &middot;
				<a href="https://purpleidea.com/">https://purpleidea.com/</a>
				
					&middot;
					<a href="https://github.com/purpleidea/purpleidea.com/blob/master/content/blog/2014/07/24/hybrid-management-of-freeipa-types-with-puppet.md" style="color:grey">Edit this page</a>
				
				</p>
			</div>
		</div>
		</footer>
	</div>

	<script src="/js/jquery-1.11.3.min.js"></script>
	<script src="/js/bootstrap.js"></script>
</body>
</html>

