<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="James Shubin">

	<title>Trying out Ceph with Oh-My-Vagrant - https://purpleidea.com/</title>
	<link rel="canonical" href="https://purpleidea.com/blog/2015/12/28/trying-out-ceph-with-oh-my-vagrant/">

	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/fontawesome-all.css" rel="stylesheet">
	<link href="/css/custom.css" rel="stylesheet">
	<link href="/css/staticman.css" rel="stylesheet">


	


</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle Navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://purpleidea.com/">purpleidea.com</a>
			</div>
			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">

					<li><a href="/about/">about</a></li>
					<li><a href="/blog/">blog</a></li>
					<li><a href="/projects/">projects</a></li>
					<li><a href="/talks/">talks</a></li>
					<li><a href="/misc/">misc</a></li>
					<li><a href="/contact/">contact</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

	<div class="row">
		<div class="col-md-9">
			<div class="well well-sm">
					<h3><strong>Trying out Ceph with Oh-My-Vagrant</strong><br><small></small></h3>
					<hr>
					<p><a href="https://www.berrange.com/posts/2015/12/21/ceph-single-node-deployment-on-fedora-23/">Daniel P. Berrangé wrote about trying out a single node ceph cluster.</a> I decided to take his article and turn it into an Oh-My-Vagrant <code>omv.yaml</code> file. It took me about two minutes to do so, and two hours to debug a problem caused by something I had broken on my laptop.</p>
<p>If you&rsquo;d like to replicate his article in less than 5 minutes, pull down the <a href="https://github.com/purpleidea/oh-my-vagrant/blob/master/examples/ceph-deploy.yaml">omv.yaml</a> file that I&rsquo;ve just published and run <code>omv up</code>. Here&rsquo;s the full terminal output of my session:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-gdscript3" data-lang="gdscript3"><span style="display:flex;"><span>james<span style="">@</span>computer:<span style="color:#666">~/</span>code<span style="color:#666">/</span>oh<span style="color:#666">-</span>my<span style="color:#666">-</span>vagrant<span style="color:#666">/</span>examples<span style="color:#666">$</span> git pull
</span></span><span style="display:flex;"><span>Already up<span style="color:#666">-</span>to<span style="color:#666">-</span>date<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span>james<span style="">@</span>computer:<span style="color:#666">~/</span>code<span style="color:#666">/</span>oh<span style="color:#666">-</span>my<span style="color:#666">-</span>vagrant<span style="color:#666">/</span>examples<span style="color:#666">$</span> cdtmpmkdir 
</span></span><span style="display:flex;"><span>james<span style="">@</span>computer:<span style="color:#666">/</span>tmp<span style="color:#666">/</span>tmp<span style="color:#666">.</span>DhD<span style="color:#666">$</span> cp <span style="color:#666">$</span>OLDPWD<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy<span style="color:#666">.</span>yaml omv<span style="color:#666">.</span>yaml
</span></span><span style="display:flex;"><span>james<span style="">@</span>computer:<span style="color:#666">/</span>tmp<span style="color:#666">/</span>tmp<span style="color:#666">.</span>DhD<span style="color:#666">$</span> time omv up
</span></span><span style="display:flex;"><span>Bringing machine <span style="color:#b44">&#39;omv1&#39;</span> up with <span style="color:#b44">&#39;libvirt&#39;</span> provider<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Creating image (snapshot of base box volume)<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Creating domain with the following settings<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Name:              omv_omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Domain type:       kvm
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Cpus:              <span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Memory:            <span style="color:#666">512</span>M
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Base box:          fedora<span style="color:#666">-</span><span style="color:#666">23</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Storage pool:      default
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> <span style="color:#d2413a;font-weight:bold">Image</span>:             <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>libvirt<span style="color:#666">/</span>images<span style="color:#666">/</span>omv_omv1<span style="color:#666">.</span>img
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Volume Cache:      default
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Kernel:            
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Initrd:            
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Graphics Type:     spice
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Graphics Port:     <span style="color:#666">5900</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Graphics <span style="color:#d2413a;font-weight:bold">IP</span>:       <span style="color:#666">127.0</span><span style="color:#666">.</span><span style="color:#666">0.1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Graphics Password: Not defined
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Video Type:        qxl
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Video VRAM:        <span style="color:#666">9216</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Keymap:            en<span style="color:#666">-</span>us
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  <span style="color:#666">--</span> Command line : 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Creating shared folders metadata<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Starting domain<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Waiting <span style="color:#a2f;font-weight:bold">for</span> domain to get an <span style="color:#d2413a;font-weight:bold">IP</span> address<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Waiting <span style="color:#a2f;font-weight:bold">for</span> SSH to become available<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Setting hostname<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Configuring <span style="color:#a2f;font-weight:bold">and</span> enabling network interfaces<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Rsyncing folder: <span style="color:#666">/</span>tmp<span style="color:#666">/</span>tmp<span style="color:#666">.</span>DhD<span style="color:#666">/</span> <span style="color:#666">=&gt;</span> <span style="color:#666">/</span>vagrant
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Updating <span style="color:#666">/</span>etc<span style="color:#666">/</span>hosts file on active guest machines<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running provisioner: shell<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span>    omv1: Running: inline script
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Changing password <span style="color:#a2f;font-weight:bold">for</span> user root<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: passwd: all authentication tokens updated successfully<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running provisioner: shell<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span>    omv1: Running: inline script
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: TARGET SOURCE    FSTYPE OPTIONS
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">/</span>      <span style="color:#666">/</span>dev<span style="color:#666">/</span>vda3 xfs    rw,relatime,seclabel,attr2,inode64,noquota
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: TARGET                                SOURCE     FSTYPE     OPTIONS
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">/</span>                                     <span style="color:#666">/</span>dev<span style="color:#666">/</span>vda3  xfs        rw,relatime,seclabel,attr2,inode64,noquota
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>sys                                sysfs      sysfs      rw,nosuid,nodev,noexec,relatime,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>kernel<span style="color:#666">/</span>security              securityfs securityfs rw,nosuid,nodev,noexec,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup                    tmpfs      tmpfs      ro,nosuid,nodev,noexec,seclabel,mode<span style="color:#666">=</span><span style="color:#666">755</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>systemd          cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,xattr,release_agent<span style="color:#666">=/</span>usr<span style="color:#666">/</span>lib<span style="color:#666">/</span>systemd<span style="color:#666">/</span>systemd<span style="color:#666">-</span>cgroups<span style="color:#666">-</span>agent,name<span style="color:#666">=</span>systemd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>devices          cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,devices
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>cpu,cpuacct      cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,cpu,cpuacct
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>memory           cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,memory
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>perf_event       cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,perf_event
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>blkio            cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,blkio
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>hugetlb          cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,hugetlb
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>freezer          cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,freezer
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>net_cls,net_prio cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,net_cls,net_prio
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">│</span> <span style="">└─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>cgroup<span style="color:#666">/</span>cpuset           cgroup     cgroup     rw,nosuid,nodev,noexec,relatime,cpuset
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>pstore                    pstore     pstore     rw,nosuid,nodev,noexec,relatime,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>selinux                   selinuxfs  selinuxfs  rw,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>kernel<span style="color:#666">/</span>debug                 debugfs    debugfs    rw,relatime,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">└─</span><span style="color:#666">/</span>sys<span style="color:#666">/</span>kernel<span style="color:#666">/</span>config                configfs   configfs   rw,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>proc                               proc       proc       rw,nosuid,nodev,noexec,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>proc<span style="color:#666">/</span>sys<span style="color:#666">/</span>fs<span style="color:#666">/</span>binfmt_misc          systemd<span style="color:#666">-</span><span style="color:#666">1</span>  autofs     rw,relatime,fd<span style="color:#666">=</span><span style="color:#666">27</span>,pgrp<span style="color:#666">=</span><span style="color:#666">1</span>,timeout<span style="color:#666">=</span><span style="color:#666">0</span>,minproto<span style="color:#666">=</span><span style="color:#666">5</span>,maxproto<span style="color:#666">=</span><span style="color:#666">5</span>,direct
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">└─</span><span style="color:#666">/</span>proc<span style="color:#666">/</span>fs<span style="color:#666">/</span>nfsd                     nfsd       nfsd       rw,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>dev                                devtmpfs   devtmpfs   rw,nosuid,seclabel,size<span style="color:#666">=</span><span style="color:#666">242328</span>k,nr_inodes<span style="color:#666">=</span><span style="color:#666">60582</span>,mode<span style="color:#666">=</span><span style="color:#666">755</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>dev<span style="color:#666">/</span>shm                          tmpfs      tmpfs      rw,nosuid,nodev,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>dev<span style="color:#666">/</span>pts                          devpts     devpts     rw,nosuid,noexec,relatime,seclabel,gid<span style="color:#666">=</span><span style="color:#666">5</span>,mode<span style="color:#666">=</span><span style="color:#666">620</span>,ptmxmode<span style="color:#666">=</span><span style="color:#666">000</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">├─</span><span style="color:#666">/</span>dev<span style="color:#666">/</span>hugepages                    hugetlbfs  hugetlbfs  rw,relatime,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">└─</span><span style="color:#666">/</span>dev<span style="color:#666">/</span>mqueue                       mqueue     mqueue     rw,relatime,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>run                                tmpfs      tmpfs      rw,nosuid,nodev,seclabel,mode<span style="color:#666">=</span><span style="color:#666">755</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">│</span> <span style="">└─</span><span style="color:#666">/</span>run<span style="color:#666">/</span>user<span style="color:#666">/</span><span style="color:#666">1000</span>                    tmpfs      tmpfs      rw,nosuid,nodev,relatime,seclabel,size<span style="color:#666">=</span><span style="color:#666">50112</span>k,mode<span style="color:#666">=</span><span style="color:#666">700</span>,uid<span style="color:#666">=</span><span style="color:#666">1000</span>,gid<span style="color:#666">=</span><span style="color:#666">1000</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>tmp                                tmpfs      tmpfs      rw,seclabel
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">├─</span><span style="color:#666">/</span>boot                               <span style="color:#666">/</span>dev<span style="color:#666">/</span>vda1  ext4       rw,relatime,seclabel,data<span style="color:#666">=</span>ordered
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="">└─</span><span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>nfs<span style="color:#666">/</span>rpc_pipefs             sunrpc     rpc_pipefs rw,relatime
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: meta<span style="color:#666">-</span>data<span style="color:#666">=/</span>dev<span style="color:#666">/</span>vda3              isize<span style="color:#666">=</span><span style="color:#666">512</span>    agcount<span style="color:#666">=</span><span style="color:#666">4</span>, agsize<span style="color:#666">=</span><span style="color:#666">321792</span> blks
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:          <span style="color:#666">=</span>                       sectsz<span style="color:#666">=</span><span style="color:#666">512</span>   attr<span style="color:#666">=</span><span style="color:#666">2</span>, projid32bit<span style="color:#666">=</span><span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:          <span style="color:#666">=</span>                       crc<span style="color:#666">=</span><span style="color:#666">1</span>        finobt<span style="color:#666">=</span><span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: data     <span style="color:#666">=</span>                       bsize<span style="color:#666">=</span><span style="color:#666">4096</span>   blocks<span style="color:#666">=</span><span style="color:#666">1287168</span>, imaxpct<span style="color:#666">=</span><span style="color:#666">25</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:          <span style="color:#666">=</span>                       sunit<span style="color:#666">=</span><span style="color:#666">0</span>      swidth<span style="color:#666">=</span><span style="color:#666">0</span> blks
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: naming   <span style="color:#666">=</span>version <span style="color:#666">2</span>              bsize<span style="color:#666">=</span><span style="color:#666">4096</span>   ascii<span style="color:#666">-</span>ci<span style="color:#666">=</span><span style="color:#666">0</span> ftype<span style="color:#666">=</span><span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#a2f">log</span>      <span style="color:#666">=</span>internal               bsize<span style="color:#666">=</span><span style="color:#666">4096</span>   blocks<span style="color:#666">=</span><span style="color:#666">2560</span>, version<span style="color:#666">=</span><span style="color:#666">2</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:          <span style="color:#666">=</span>                       sectsz<span style="color:#666">=</span><span style="color:#666">512</span>   sunit<span style="color:#666">=</span><span style="color:#666">0</span> blks, lazy<span style="color:#666">-</span>count<span style="color:#666">=</span><span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: realtime <span style="color:#666">=</span>none                   extsz<span style="color:#666">=</span><span style="color:#666">4096</span>   blocks<span style="color:#666">=</span><span style="color:#666">0</span>, rtextents<span style="color:#666">=</span><span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: data blocks changed from <span style="color:#666">1287168</span> to <span style="color:#666">10199744</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running provisioner: shell<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span>    omv1: Running: inline script
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: this is ceph<span style="color:#666">-</span>deploy on fedora<span style="color:#666">-</span><span style="color:#666">23</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Last metadata expiration check performed <span style="color:#666">0</span>:<span style="color:#666">00</span>:<span style="color:#666">12</span> ago on Mon Dec <span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">34</span>:<span style="color:#666">32</span> <span style="color:#666">2015.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Dependencies resolved<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">================================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  Package               Arch          Version                Repository     Size
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">================================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Installing:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  ceph<span style="color:#666">-</span>deploy           noarch        <span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23          fedora        <span style="color:#666">160</span> k
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  python<span style="color:#666">-</span>execnet        noarch        <span style="color:#666">1.3</span><span style="color:#666">.</span><span style="color:#666">0</span><span style="color:#666">-</span><span style="color:#666">3.</span>fc23           fedora        <span style="color:#666">275</span> k
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  python<span style="color:#666">-</span>remoto         noarch        <span style="color:#666">0.0</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23          fedora         <span style="color:#666">26</span> k
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Transaction Summary
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">================================================================================</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Install  <span style="color:#666">3</span> Packages
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Total download size: <span style="color:#666">461</span> k
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Installed size: <span style="color:#666">1.5</span> M
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Downloading Packages:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: <span style="color:#666">--------------------------------------------------------------------------------</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Total                                           <span style="color:#666">214</span> kB<span style="color:#666">/</span>s <span style="color:#666">|</span> <span style="color:#666">461</span> kB     <span style="color:#666">00</span>:<span style="color:#666">02</span>     
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running transaction check
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Transaction check succeeded<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running transaction test
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Transaction test succeeded<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Running transaction
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Installing  : python<span style="color:#666">-</span>execnet<span style="color:#666">-</span><span style="color:#666">1.3</span><span style="color:#666">.</span><span style="color:#666">0</span><span style="color:#666">-</span><span style="color:#666">3.</span>fc23<span style="color:#666">.</span>noarch                          <span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Installing  : python<span style="color:#666">-</span>remoto<span style="color:#666">-</span><span style="color:#666">0.0</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23<span style="color:#666">.</span>noarch                          <span style="color:#666">2</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Installing  : ceph<span style="color:#666">-</span>deploy<span style="color:#666">-</span><span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23<span style="color:#666">.</span>noarch                            <span style="color:#666">3</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Verifying   : ceph<span style="color:#666">-</span>deploy<span style="color:#666">-</span><span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23<span style="color:#666">.</span>noarch                            <span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Verifying   : python<span style="color:#666">-</span>remoto<span style="color:#666">-</span><span style="color:#666">0.0</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23<span style="color:#666">.</span>noarch                          <span style="color:#666">2</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   Verifying   : python<span style="color:#666">-</span>execnet<span style="color:#666">-</span><span style="color:#666">1.3</span><span style="color:#666">.</span><span style="color:#666">0</span><span style="color:#666">-</span><span style="color:#666">3.</span>fc23<span style="color:#666">.</span>noarch                          <span style="color:#666">3</span><span style="color:#666">/</span><span style="color:#666">3</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:  
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Installed:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   ceph<span style="color:#666">-</span>deploy<span style="color:#666">.</span>noarch <span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23       python<span style="color:#666">-</span>execnet<span style="color:#666">.</span>noarch <span style="color:#666">1.3</span><span style="color:#666">.</span><span style="color:#666">0</span><span style="color:#666">-</span><span style="color:#666">3.</span>fc23    
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:   python<span style="color:#666">-</span>remoto<span style="color:#666">.</span>noarch <span style="color:#666">0.0</span><span style="color:#666">.</span><span style="color:#666">25</span><span style="color:#666">-</span><span style="color:#666">2.</span>fc23    
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: Complete<span style="color:#666">!</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>conf][DEBUG ] found configuration file at: <span style="color:#666">/</span>root<span style="color:#666">/.</span>cephdeploy<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>cli][INFO  ] Invoked (<span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span>): <span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy new omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Creating new cluster named ceph
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][INFO  ] making sure passwordless SSH succeeds
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] connected to host: omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] find the location of an executable
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>sbin<span style="color:#666">/</span>ip link show
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>sbin<span style="color:#666">/</span>ip addr show
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] <span style="color:#d2413a;font-weight:bold">IP</span> addresses found: [<span style="color:#b44">&#39;192.168.123.100&#39;</span>, <span style="color:#b44">&#39;172.17.0.1&#39;</span>, <span style="color:#b44">&#39;192.168.121.48&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Resolving host omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Monitor omv1 at <span style="color:#666">192.168</span><span style="color:#666">.</span><span style="color:#666">123.100</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Monitor initial members are [<span style="color:#b44">&#39;omv1&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Monitor addrs are [<span style="color:#b44">&#39;192.168.123.100&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Creating a random mon key<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Writing monitor keyring to ceph<span style="color:#666">.</span>mon<span style="color:#666">.</span>keyring<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>new][DEBUG ] Writing initial config to ceph<span style="color:#666">.</span>conf<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>conf][DEBUG ] found configuration file at: <span style="color:#666">/</span>root<span style="color:#666">/.</span>cephdeploy<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>cli][INFO  ] Invoked (<span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span>): <span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy install <span style="color:#666">--</span>no<span style="color:#666">-</span>adjust<span style="color:#666">-</span>repos omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>install][DEBUG ] Installing stable version hammer on cluster ceph hosts omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>install][DEBUG ] Detecting platform <span style="color:#a2f;font-weight:bold">for</span> host omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com <span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] connected to host: omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>install][INFO  ] Distro info: Fedora <span style="color:#666">23</span> Twenty Three
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] installing ceph on omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: yum <span style="color:#666">-</span>y <span style="color:#666">-</span>q install ceph ceph<span style="color:#666">-</span>radosgw
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] Yum command has been deprecated, redirecting to <span style="color:#b44">&#39;/usr/bin/dnf -y -q install ceph ceph-radosgw&#39;</span><span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] See <span style="color:#b44">&#39;man dnf&#39;</span> <span style="color:#a2f;font-weight:bold">and</span> <span style="color:#b44">&#39;man yum2dnf&#39;</span> <span style="color:#a2f;font-weight:bold">for</span> more information<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] To transfer transaction metadata from yum to DNF, run:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#b44">&#39;dnf install python-dnf-plugins-extras-migrate &amp;&amp; dnf-2 migrate&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: ceph <span style="color:#666">--</span>version
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] ceph version <span style="color:#666">0.94</span><span style="color:#666">.</span><span style="color:#666">5</span> (<span style="color:#666">9764</span>da52395923e0b32908d83a9f7304401fee43)
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>conf][DEBUG ] found configuration file at: <span style="color:#666">/</span>root<span style="color:#666">/.</span>cephdeploy<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>cli][INFO  ] Invoked (<span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span>): <span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy mon create<span style="color:#666">-</span>initial
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][DEBUG ] Deploying mon, cluster ceph hosts omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][DEBUG ] detecting platform <span style="color:#a2f;font-weight:bold">for</span> host omv1 <span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][INFO  ] distro info: Fedora <span style="color:#666">23</span> Twenty Three
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] determining <span style="color:#a2f;font-weight:bold">if</span> provided host has same hostname <span style="color:#a2f;font-weight:bold">in</span> remote
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] get remote short hostname
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] deploying mon to omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] get remote short hostname
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] remote hostname: omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] write cluster configuration to <span style="color:#666">/</span>etc<span style="color:#666">/</span>ceph<span style="color:#666">/</span>{cluster}<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] create the mon path <span style="color:#a2f;font-weight:bold">if</span> it does <span style="color:#a2f;font-weight:bold">not</span> exist
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] checking <span style="color:#a2f;font-weight:bold">for</span> done path: <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>mon<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1<span style="color:#666">/</span>done
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] done path does <span style="color:#a2f;font-weight:bold">not</span> exist: <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>mon<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1<span style="color:#666">/</span>done
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] creating keyring file: <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>tmp<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1<span style="color:#666">.</span>mon<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] create the monitor keyring file
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] Running command: ceph<span style="color:#666">-</span>mon <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span>mkfs <span style="color:#666">-</span>i omv1 <span style="color:#666">--</span>keyring <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>tmp<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1<span style="color:#666">.</span>mon<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] ceph<span style="color:#666">-</span>mon: mon<span style="color:#666">.</span>noname<span style="color:#666">-</span>a <span style="color:#666">192.168</span><span style="color:#666">.</span><span style="color:#666">123.100</span>:<span style="color:#666">6789</span><span style="color:#666">/</span><span style="color:#666">0</span> is local, renaming to mon<span style="color:#666">.</span>omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] ceph<span style="color:#666">-</span>mon: set fsid to <span style="color:#666">94276740</span><span style="color:#666">-</span><span style="color:#666">7431</span><span style="color:#666">-</span><span style="color:#666">49</span>ab<span style="color:#666">-</span><span style="color:#666">80</span>da<span style="color:#666">-</span>a37325d2d020
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] ceph<span style="color:#666">-</span>mon: created monfs at <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>mon<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1 <span style="color:#a2f;font-weight:bold">for</span> mon<span style="color:#666">.</span>omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] unlinking keyring file <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>tmp<span style="color:#666">/</span>ceph<span style="color:#666">-</span>omv1<span style="color:#666">.</span>mon<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] create a done file to avoid re<span style="color:#666">-</span>doing the mon deployment
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] create the init path <span style="color:#a2f;font-weight:bold">if</span> it does <span style="color:#a2f;font-weight:bold">not</span> exist
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] locating the <span style="">`</span>service<span style="">`</span> executable<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>sbin<span style="color:#666">/</span>service ceph <span style="color:#666">-</span>c <span style="color:#666">/</span>etc<span style="color:#666">/</span>ceph<span style="color:#666">/</span>ceph<span style="color:#666">.</span>conf start mon<span style="color:#666">.</span>omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] <span style="color:#666">===</span> mon<span style="color:#666">.</span>omv1 <span style="color:#666">===</span> 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] Starting Ceph mon<span style="color:#666">.</span>omv1 on omv1<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][WARNING] Running as unit run<span style="color:#666">-</span><span style="color:#666">3493.</span>service<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] Starting ceph<span style="color:#666">-</span>create<span style="color:#666">-</span>keys on omv1<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] Running command: ceph <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>admin<span style="color:#666">-</span>daemon <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>run<span style="color:#666">/</span>ceph<span style="color:#666">/</span>ceph<span style="color:#666">-</span>mon<span style="color:#666">.</span>omv1<span style="color:#666">.</span>asok mon_status
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] <span style="color:#666">********************************************************************************</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] status <span style="color:#a2f;font-weight:bold">for</span> monitor: mon<span style="color:#666">.</span>omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] {
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;election_epoch&#34;</span>: <span style="color:#666">2</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;extra_probe_peers&#34;</span>: [], 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;monmap&#34;</span>: {
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#b44">&#34;created&#34;</span>: <span style="color:#b44">&#34;0.000000&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#b44">&#34;epoch&#34;</span>: <span style="color:#666">1</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#b44">&#34;fsid&#34;</span>: <span style="color:#b44">&#34;94276740-7431-49ab-80da-a37325d2d020&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#b44">&#34;modified&#34;</span>: <span style="color:#b44">&#34;0.000000&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#b44">&#34;mons&#34;</span>: [
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]       {
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]         <span style="color:#b44">&#34;addr&#34;</span>: <span style="color:#b44">&#34;192.168.123.100:6789/0&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]         <span style="color:#b44">&#34;name&#34;</span>: <span style="color:#b44">&#34;omv1&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]         <span style="color:#b44">&#34;rank&#34;</span>: <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]       }
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     ]
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   }, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;name&#34;</span>: <span style="color:#b44">&#34;omv1&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;outside_quorum&#34;</span>: [], 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;quorum&#34;</span>: [
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]     <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   ], 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;rank&#34;</span>: <span style="color:#666">0</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;state&#34;</span>: <span style="color:#b44">&#34;leader&#34;</span>, 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ]   <span style="color:#b44">&#34;sync_provider&#34;</span>: []
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] }
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] <span style="color:#666">********************************************************************************</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] monitor: mon<span style="color:#666">.</span>omv1 is running
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] Running command: ceph <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>admin<span style="color:#666">-</span>daemon <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>run<span style="color:#666">/</span>ceph<span style="color:#666">/</span>ceph<span style="color:#666">-</span>mon<span style="color:#666">.</span>omv1<span style="color:#666">.</span>asok mon_status
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][INFO  ] processing monitor mon<span style="color:#666">.</span>omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][INFO  ] Running command: ceph <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>admin<span style="color:#666">-</span>daemon <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>run<span style="color:#666">/</span>ceph<span style="color:#666">/</span>ceph<span style="color:#666">-</span>mon<span style="color:#666">.</span>omv1<span style="color:#666">.</span>asok mon_status
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][INFO  ] mon<span style="color:#666">.</span>omv1 monitor has reached quorum<span style="color:#666">!</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][INFO  ] all initial monitors are running <span style="color:#a2f;font-weight:bold">and</span> have formed quorum
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>mon][INFO  ] Running gatherkeys<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Checking omv1 <span style="color:#a2f;font-weight:bold">for</span> <span style="color:#666">/</span>etc<span style="color:#666">/</span>ceph<span style="color:#666">/</span>ceph<span style="color:#666">.</span>client<span style="color:#666">.</span>admin<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] fetch remote file
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Got ceph<span style="color:#666">.</span>client<span style="color:#666">.</span>admin<span style="color:#666">.</span>keyring key from omv1<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Have ceph<span style="color:#666">.</span>mon<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Checking omv1 <span style="color:#a2f;font-weight:bold">for</span> <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>osd<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] fetch remote file
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Got ceph<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>osd<span style="color:#666">.</span>keyring key from omv1<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Checking omv1 <span style="color:#a2f;font-weight:bold">for</span> <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>mds<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] fetch remote file
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Got ceph<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>mds<span style="color:#666">.</span>keyring key from omv1<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Checking omv1 <span style="color:#a2f;font-weight:bold">for</span> <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>rgw<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] connected to host: omv1 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1][DEBUG ] fetch remote file
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>gatherkeys][DEBUG ] Got ceph<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>rgw<span style="color:#666">.</span>keyring key from omv1<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>conf][DEBUG ] found configuration file at: <span style="color:#666">/</span>root<span style="color:#666">/.</span>cephdeploy<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>cli][INFO  ] Invoked (<span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span>): <span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy osd prepare omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com:<span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] Preparing cluster ceph disks omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com:<span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] connected to host: omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][INFO  ] Distro info: Fedora <span style="color:#666">23</span> Twenty Three
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] Deploying osd to omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] write cluster configuration to <span style="color:#666">/</span>etc<span style="color:#666">/</span>ceph<span style="color:#666">/</span>{cluster}<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: udevadm trigger <span style="color:#666">--</span>subsystem<span style="color:#666">-</span>match<span style="color:#666">=</span>block <span style="color:#666">--</span>action<span style="color:#666">=</span>add
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] Preparing host omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com disk <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd journal None activate False
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: ceph<span style="color:#666">-</span>disk <span style="color:#666">-</span>v prepare <span style="color:#666">--</span>fs<span style="color:#666">-</span>type xfs <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span> <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>osd <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>show<span style="color:#666">-</span>config<span style="color:#666">-</span>value<span style="color:#666">=</span>fsid
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_mkfs_options_xfs
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_fs_mkfs_options_xfs
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_mount_options_xfs
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_fs_mount_options_xfs
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>osd <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>show<span style="color:#666">-</span>config<span style="color:#666">-</span>value<span style="color:#666">=</span>osd_journal_size
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_cryptsetup_parameters
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_dmcrypt_key_size
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>conf <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>name<span style="color:#666">=</span>osd<span style="color:#666">.</span> <span style="color:#666">--</span>lookup osd_dmcrypt_type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Preparing osd data dir <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] checking OSD status<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: ceph <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph osd stat <span style="color:#666">--</span>format<span style="color:#666">=</span>json
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] Host omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com is now ready <span style="color:#a2f;font-weight:bold">for</span> osd use<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>conf][DEBUG ] found configuration file at: <span style="color:#666">/</span>root<span style="color:#666">/.</span>cephdeploy<span style="color:#666">.</span>conf
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>cli][INFO  ] Invoked (<span style="color:#666">1.5</span><span style="color:#666">.</span><span style="color:#666">25</span>): <span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>deploy osd activate omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com:<span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] Activating cluster ceph disks omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com:<span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd:
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] connected to host: omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect platform information from remote host
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] detect machine type
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][INFO  ] Distro info: Fedora <span style="color:#666">23</span> Twenty Three
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] activating host omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com disk <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [ceph_deploy<span style="color:#666">.</span>osd][DEBUG ] will use init type: sysvinit
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: ceph<span style="color:#666">-</span>disk <span style="color:#666">-</span>v activate <span style="color:#666">--</span>mark<span style="color:#666">-</span>init sysvinit <span style="color:#666">--</span>mount <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Cluster uuid is <span style="color:#666">94276740</span><span style="color:#666">-</span><span style="color:#666">7431</span><span style="color:#666">-</span><span style="color:#666">49</span>ab<span style="color:#666">-</span><span style="color:#666">80</span>da<span style="color:#666">-</span>a37325d2d020
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>osd <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph <span style="color:#666">--</span>show<span style="color:#666">-</span>config<span style="color:#666">-</span>value<span style="color:#666">=</span>fsid
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Cluster name is ceph
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:OSD uuid is <span style="color:#666">43</span>a20af4<span style="color:#666">-</span><span style="color:#666">7</span>a45<span style="color:#666">-</span><span style="color:#666">4</span>f70<span style="color:#666">-</span>a0dd<span style="color:#666">-</span>baf906d58026
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Allocating OSD id<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span>name client<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>osd <span style="color:#666">--</span>keyring <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>osd<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring osd create <span style="color:#666">--</span>concise <span style="color:#666">43</span>a20af4<span style="color:#666">-</span><span style="color:#666">7</span>a45<span style="color:#666">-</span><span style="color:#666">4</span>f70<span style="color:#666">-</span>a0dd<span style="color:#666">-</span>baf906d58026
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:OSD id is <span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Initializing OSD<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span>name client<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>osd <span style="color:#666">--</span>keyring <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>osd<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring mon getmap <span style="color:#666">-</span>o <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>activate<span style="color:#666">.</span>monmap
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] got monmap epoch <span style="color:#666">1</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph<span style="color:#666">-</span>osd <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span>mkfs <span style="color:#666">--</span>mkkey <span style="color:#666">-</span>i <span style="color:#666">0</span> <span style="color:#666">--</span>monmap <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>activate<span style="color:#666">.</span>monmap <span style="color:#666">--</span>osd<span style="color:#666">-</span>data <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd <span style="color:#666">--</span>osd<span style="color:#666">-</span>journal <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>journal <span style="color:#666">--</span>osd<span style="color:#666">-</span>uuid <span style="color:#666">43</span>a20af4<span style="color:#666">-</span><span style="color:#666">7</span>a45<span style="color:#666">-</span><span style="color:#666">4</span>f70<span style="color:#666">-</span>a0dd<span style="color:#666">-</span>baf906d58026 <span style="color:#666">--</span>keyring <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">47.525213</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> journal FileJournal::_open: disabling aio <span style="color:#a2f;font-weight:bold">for</span> non<span style="color:#666">-</span>block journal<span style="color:#666">.</span>  Use journal_force_aio to force use of aio anyway
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">49.412257</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> journal FileJournal::_open: disabling aio <span style="color:#a2f;font-weight:bold">for</span> non<span style="color:#666">-</span>block journal<span style="color:#666">.</span>  Use journal_force_aio to force use of aio anyway
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">49.413018</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> filestore(<span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd) could <span style="color:#a2f;font-weight:bold">not</span> find <span style="color:#666">23</span>c2fcde<span style="color:#666">/</span>osd_superblock<span style="color:#666">/</span><span style="color:#666">0</span><span style="color:#666">//-</span><span style="color:#666">1</span> <span style="color:#a2f;font-weight:bold">in</span> index: (<span style="color:#666">2</span>) No such file <span style="color:#a2f;font-weight:bold">or</span> directory
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">49.813515</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> created object store <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd journal <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>journal <span style="color:#a2f;font-weight:bold">for</span> osd<span style="color:#666">.</span><span style="color:#666">0</span> fsid <span style="color:#666">94276740</span><span style="color:#666">-</span><span style="color:#666">7431</span><span style="color:#666">-</span><span style="color:#666">49</span>ab<span style="color:#666">-</span><span style="color:#666">80</span>da<span style="color:#666">-</span>a37325d2d020
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">49.813566</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> auth: error reading file: <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>keyring: can<span style="color:#b44">&#39;t open /srv/ceph/osd/keyring: (2) No such file or directory</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] <span style="color:#666">2015</span><span style="color:#666">-</span><span style="color:#666">12</span><span style="color:#666">-</span><span style="color:#666">28</span> <span style="color:#666">14</span>:<span style="color:#666">36</span>:<span style="color:#666">49.813683</span> <span style="color:#666">7</span>f66f9f0c880 <span style="color:#666">-</span><span style="color:#666">1</span> created new key <span style="color:#a2f;font-weight:bold">in</span> keyring <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>keyring
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Marking with init system sysvinit
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Authorizing OSD key<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>bin<span style="color:#666">/</span>ceph <span style="color:#666">--</span>cluster ceph <span style="color:#666">--</span>name client<span style="color:#666">.</span>bootstrap<span style="color:#666">-</span>osd <span style="color:#666">--</span>keyring <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>bootstrap<span style="color:#666">-</span>osd<span style="color:#666">/</span>ceph<span style="color:#666">.</span>keyring auth add osd<span style="color:#666">.</span><span style="color:#666">0</span> <span style="color:#666">-</span>i <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>keyring osd allow <span style="color:#666">*</span> mon allow profile osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] added key <span style="color:#a2f;font-weight:bold">for</span> osd<span style="color:#666">.</span><span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:ceph osd<span style="color:#666">.</span><span style="color:#666">0</span> data dir is ready at <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Creating symlink <span style="color:#666">/</span><span style="color:#a2f;font-weight:bold">var</span><span style="color:#666">/</span>lib<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd<span style="color:#666">/</span>ceph<span style="color:#666">-</span><span style="color:#666">0</span> <span style="color:#666">-&gt;</span> <span style="color:#666">/</span>srv<span style="color:#666">/</span>ceph<span style="color:#666">/</span>osd
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] DEBUG:ceph<span style="color:#666">-</span>disk:Starting ceph osd<span style="color:#666">.</span><span style="color:#666">0.</span><span style="color:#666">..</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] INFO:ceph<span style="color:#666">-</span>disk:Running command: <span style="color:#666">/</span>usr<span style="color:#666">/</span>sbin<span style="color:#666">/</span>service ceph <span style="color:#666">--</span>cluster ceph start osd<span style="color:#666">.</span><span style="color:#666">0</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] <span style="color:#666">===</span> osd<span style="color:#666">.</span><span style="color:#666">0</span> <span style="color:#666">===</span> 
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] create<span style="color:#666">-</span><span style="color:#a2f;font-weight:bold">or</span><span style="color:#666">-</span>move updating item name <span style="color:#b44">&#39;osd.0&#39;</span> weight <span style="color:#666">0.04</span> at location {host<span style="color:#666">=</span>omv1,root<span style="color:#666">=</span>default} to crush map
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][DEBUG ] Starting Ceph osd<span style="color:#666">.</span><span style="color:#666">0</span> on omv1<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] Running as unit run<span style="color:#666">-</span><span style="color:#666">4116.</span>service<span style="color:#666">.</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] checking OSD status<span style="color:#666">...</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: ceph <span style="color:#666">--</span>cluster<span style="color:#666">=</span>ceph osd stat <span style="color:#666">--</span>format<span style="color:#666">=</span>json
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][INFO  ] Running command: systemctl enable ceph
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] ceph<span style="color:#666">.</span>service is <span style="color:#a2f;font-weight:bold">not</span> a native service, redirecting to systemd<span style="color:#666">-</span>sysv<span style="color:#666">-</span>install
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: [omv1<span style="color:#666">.</span>example<span style="color:#666">.</span>com][WARNING] Executing <span style="color:#666">/</span>usr<span style="color:#666">/</span>lib<span style="color:#666">/</span>systemd<span style="color:#666">/</span>systemd<span style="color:#666">-</span>sysv<span style="color:#666">-</span>install enable ceph
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:     cluster <span style="color:#666">94276740</span><span style="color:#666">-</span><span style="color:#666">7431</span><span style="color:#666">-</span><span style="color:#666">49</span>ab<span style="color:#666">-</span><span style="color:#666">80</span>da<span style="color:#666">-</span>a37325d2d020
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:      health HEALTH_WARN
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:             <span style="color:#666">64</span> pgs stuck inactive
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:             <span style="color:#666">64</span> pgs stuck unclean
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:      monmap e1: <span style="color:#666">1</span> mons at {omv1<span style="color:#666">=</span><span style="color:#666">192.168</span><span style="color:#666">.</span><span style="color:#666">123.100</span>:<span style="color:#666">6789</span><span style="color:#666">/</span><span style="color:#666">0</span>}
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:             election epoch <span style="color:#666">2</span>, quorum <span style="color:#666">0</span> omv1
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:      osdmap e5: <span style="color:#666">1</span> osds: <span style="color:#666">1</span> up, <span style="color:#666">1</span> <span style="color:#a2f;font-weight:bold">in</span>
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:       pgmap v6: <span style="color:#666">64</span> pgs, <span style="color:#666">1</span> pools, <span style="color:#666">0</span> bytes data, <span style="color:#666">0</span> objects
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:             <span style="color:#666">0</span> kB used, <span style="color:#666">0</span> kB <span style="color:#666">/</span> <span style="color:#666">0</span> kB avail
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1:                   <span style="color:#666">64</span> creating
</span></span><span style="display:flex;"><span><span style="color:#666">==&gt;</span> omv1: you can now use ceph with the rbd command
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>real    <span style="color:#666">4</span>m14<span style="color:#666">.</span><span style="color:#666">815</span>s
</span></span><span style="display:flex;"><span>user    <span style="color:#666">0</span>m2<span style="color:#666">.</span><span style="color:#666">239</span>s
</span></span><span style="display:flex;"><span>sys    <span style="color:#666">0</span>m0<span style="color:#666">.</span><span style="color:#666">288</span>s
</span></span><span style="display:flex;"><span>james<span style="">@</span>computer:<span style="color:#666">/</span>tmp<span style="color:#666">/</span>tmp<span style="color:#666">.</span>DhD<span style="color:#666">$</span> vscreen root<span style="">@</span>omv1
</span></span><span style="display:flex;"><span>[root<span style="">@</span>omv1 <span style="color:#666">~</span>]<span style="color:#080;font-style:italic"># ceph status</span>
</span></span><span style="display:flex;"><span>    cluster <span style="color:#666">94276740</span><span style="color:#666">-</span><span style="color:#666">7431</span><span style="color:#666">-</span><span style="color:#666">49</span>ab<span style="color:#666">-</span><span style="color:#666">80</span>da<span style="color:#666">-</span>a37325d2d020
</span></span><span style="display:flex;"><span>     health HEALTH_OK
</span></span><span style="display:flex;"><span>     monmap e1: <span style="color:#666">1</span> mons at {omv1<span style="color:#666">=</span><span style="color:#666">192.168</span><span style="color:#666">.</span><span style="color:#666">123.100</span>:<span style="color:#666">6789</span><span style="color:#666">/</span><span style="color:#666">0</span>}
</span></span><span style="display:flex;"><span>            election epoch <span style="color:#666">2</span>, quorum <span style="color:#666">0</span> omv1
</span></span><span style="display:flex;"><span>     osdmap e5: <span style="color:#666">1</span> osds: <span style="color:#666">1</span> up, <span style="color:#666">1</span> <span style="color:#a2f;font-weight:bold">in</span>
</span></span><span style="display:flex;"><span>      pgmap v9: <span style="color:#666">64</span> pgs, <span style="color:#666">1</span> pools, <span style="color:#666">0</span> bytes data, <span style="color:#666">0</span> objects
</span></span><span style="display:flex;"><span>            <span style="color:#666">6642</span> MB used, <span style="color:#666">33190</span> MB <span style="color:#666">/</span> <span style="color:#666">39832</span> MB avail
</span></span><span style="display:flex;"><span>                  <span style="color:#666">64</span> active<span style="color:#666">+</span>clean
</span></span><span style="display:flex;"><span>[root<span style="">@</span>omv1 <span style="color:#666">~</span>]<span style="color:#080;font-style:italic">#</span>
</span></span></code></pre></div><p>You&rsquo;ll notice that the <code>ceph status</code> command initially returned a warning when run with OMV, but you&rsquo;ll notice that if I logged in to the machine and ran it a second time, everything is now happy. I imagine this is because it takes a moment to converge on a healthy state.</p>
<p><a href="https://twitter.com/purpleidea/status/681562552019456000">I&rsquo;ve also just released a new Fedora-23 vagrant box</a>, which is what this example uses. Naturally if you haven&rsquo;t already downloaded the box, this example will take a bit longer to run the first time. The download will cost you about 865M and will happen automatically if you&rsquo;re missing the box.</p>
<p>Happy hacking!</p>
<p>James</p>
<p>PS: If you&rsquo;re curious what that <code>cdtmpmkdir</code> is, it&rsquo;s here:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ type cdtmpmkdir 
</span></span><span style="display:flex;"><span>cdtmpmkdir is a function
</span></span><span style="display:flex;"><span>cdtmpmkdir () 
</span></span><span style="display:flex;"><span>{ 
</span></span><span style="display:flex;"><span>    cd `mktemp --tmpdir -d tmp.XXX`
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><br /><i>You can <a target="_blank" href="https://m9rx.com/">hire James</a> and his team at <a target="_blank" href="https://m9rx.com/">m9rx corporation</a>.</i>

<br /><i>You can <a target="_blank" href="https://mastodon.social/@purpleidea">follow James on Mastodon</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://twitter.com/intent/follow?screen_name=purpleidea">follow James on Twitter</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://github.com/sponsors/purpleidea/">support James on GitHub</a> if you'd like to help sustain this kind of content.</i>

<br /><i>You can <a target="_blank" href="https://www.patreon.com/purpleidea">support James on Patreon</a> if you'd like to help sustain this kind of content.</i>
</p>

			</div>
		</div>

		
		<div class="col-md-3">
			<div class="well well-sm"> 
				<h4>December 28, 2015<br>
				<small>2973 words</small></h4>
				<hr>
				<strong>Categories</strong>
				<ul class="list-unstyled">
				
					<li><a href="/categories/technical">technical</a></li>
				
				</ul>
				<hr>
				<strong>Tags</strong><br>
				<a class="label label-default" href="/tags/bash">bash</a> <a class="label label-default" href="/tags/ceph">ceph</a> <a class="label label-default" href="/tags/ceph-deploy">ceph-deploy</a> <a class="label label-default" href="/tags/devops">devops</a> <a class="label label-default" href="/tags/fedora">fedora</a> <a class="label label-default" href="/tags/fedora-23">fedora 23</a> <a class="label label-default" href="/tags/hack">hack</a> <a class="label label-default" href="/tags/oh-my-vagrant">oh-my-vagrant</a> <a class="label label-default" href="/tags/planetdevops">planetdevops</a> <a class="label label-default" href="/tags/planetfedora">planetfedora</a> <a class="label label-default" href="/tags/planetpuppet">planetpuppet</a> <a class="label label-default" href="/tags/rbd">rbd</a> <a class="label label-default" href="/tags/vagrant">vagrant</a> 
				
				<hr>
				<strong>Original URL</strong><br>
				<a href="https://ttboj.wordpress.com/2015/12/28/trying-out-ceph-with-oh-my-vagrant/"><small>https://ttboj.wordpress.com/2015/12/28/trying-out-ceph-with-oh-my-vagrant/</small></a>
				

				
			</div>
				<div class="panel panel-default">
		<div class="panel-heading" style="padding: 2px 15px;">
			<h4>Links...</h4>
		</div>
		<div class="panel-body">

			<a href="https://twitter.com/purpleidea" class="btn btn-info btn-xs"><i class="fa-brands fa-twitter-square fa-2x"></i></a>


			<a href="https://github.com/purpleidea/" class="btn btn-primary btn-xs"><i class="fa-brands fa-github-square fa-2x"></i></a>


			<a href="https://mastodon.social/@purpleidea" class="btn btn-primary btn-xs" style="background:#563ACC"><i class="fa-brands fa-mastodon fa-2x"></i></a>


	

			
		</div>
	</div>

		</div>
	</div>

	<div class="row">
		<hr>

	
<a name="comments"></a>
<section class="post-comments">
	<h3>Comments</h3>






	

	


	<p>Nothing yet.</p>

	<hr />
	<a name="comment"></a>
	<h3>Post a comment</h3>
	<form class="post-new-comment" method="POST" action="https://api.staticman.net/v2/entry/purpleidea/purpleidea.com/master/comments">
		<input type="hidden" name="options[redirect]" value="https://purpleidea.com/blog/2015/12/28/trying-out-ceph-with-oh-my-vagrant/#comment-submitted">
		<input type="hidden" name="options[entryId]" value="blog/2015/12/28/trying-out-ceph-with-oh-my-vagrant">
		<input type="hidden" name="options[reCaptcha][siteKey]" value="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp">
		<input type="hidden" name="options[reCaptcha][secret]" value="AEl4ul2uMOx2EL2LMm/84zzh8mWLYIYW&#43;v2EEu7webGOtAqyQiLBa6QLjPgnlyNjJxE3UeccxuBQIWqPzG96FsVl0AVTihhHt3OGR1hteAZUAhoJjnH&#43;7PoyC3x7d4KDLypopDn&#43;HzWowOpAZuvfHE08n&#43;G4omrP5fUfkOrH03A=">
		<div class="col-md-9">
			<div class="row">
				<textarea name="fields[message]" style="width: 80%; height: 50px;" class="post-comment-field" placeholder="Please enter your comment here..." rows="10"></textarea><br />
			</div>
			<div class="row">
				<input name="fields[name]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your name">
			</div>
			<div class="row">
				<input name="fields[email]" type="email" style="width: 50%;" class="post-comment-field" placeholder="Your email address">
			</div>
			<div class="row">
				<input name="fields[url]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your website">
			</div>
			<div class="row">
				<br />
				<div class="g-recaptcha" data-sitekey="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp"></div>
				<script src='https://www.google.com/recaptcha/api.js'></script>
				(sorry but the spammers were getting too crazy!)
			</div>
			<div class="row">
				<input type="submit" style="width: 80%;" class="post-comment-field btn btn-primary btn-xs" value="Submit">
			</div>
		</div>
	</form>
</section>

<div id="comment-submitted" class="dialog">
	<hr />
	<h3>Thank you</h3>
	<p>Your comment has been submitted and will be published if it gets approved.</p>
	<p><a href="https://github.com/purpleidea/purpleidea.com/pulls">Click here</a> to see the patch you generated.</p>
	<p><a href="#" class="btn">OK</a></p>
</div>


	</div>
		<footer>
		<div class="row">
			<hr>
			<div class="col-sm-12">
				<p>
				&copy; James Shubin 2025 &middot;
				<a href="https://purpleidea.com/">https://purpleidea.com/</a>
				
					&middot;
					<a href="https://github.com/purpleidea/purpleidea.com/blob/master/content/blog/2015/12/28/trying-out-ceph-with-oh-my-vagrant.md" style="color:grey">Edit this page</a>
				
				</p>
			</div>
		</div>
		</footer>
	</div>

	<script src="/js/jquery-1.11.3.min.js"></script>
	<script src="/js/bootstrap.js"></script>
</body>
</html>

