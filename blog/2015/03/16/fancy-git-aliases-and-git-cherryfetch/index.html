<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="James Shubin">

	<title>Fancy git aliases and git cherryfetch - https://purpleidea.com/</title>
	<link rel="canonical" href="https://purpleidea.com/blog/2015/03/16/fancy-git-aliases-and-git-cherryfetch/">

	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/fontawesome-all.css" rel="stylesheet">
	<link href="/css/custom.css" rel="stylesheet">
	<link href="/css/staticman.css" rel="stylesheet">


	


</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
					<span class="sr-only">Toggle Navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://purpleidea.com/">purpleidea.com</a>
			</div>
			<div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">

					<li><a href="/about/">about</a></li>
					<li><a href="/blog/">blog</a></li>
					<li><a href="/projects/">projects</a></li>
					<li><a href="/talks/">talks</a></li>
					<li><a href="/misc/">misc</a></li>
					<li><a href="/contact/">contact</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

	<div class="row">
		<div class="col-md-9">
			<div class="well well-sm">
					<h3><strong>Fancy git aliases and git cherryfetch</strong><br><small></small></h3>
					<hr>
					<p>Here are two quick <a href="https://en.wikipedia.org/wiki/Git_%28software%29">git</a> tricks that I&rsquo;ve added to my toolbox lately&hellip;</p>
<p>I wanted to create a git alias that takes in argv from the command, but in the middle of the command. Here&rsquo;s the hack that I came up with for the <code>[alias]</code> section of my <code>~/.gitconfig</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>[alias]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    # cherryfetch fetches a repo ($1) / branch ($2) and applies it rebased!
</span></span><span style="display:flex;"><span>    # the &amp;&amp; true at the end eats up the appended args
</span></span><span style="display:flex;"><span>    cherryfetch = !git fetch &#34;$1&#34; &#34;$2&#34; &amp;&amp; git cherry-pick HEAD..FETCH_HEAD &amp;&amp; true
</span></span></code></pre></div><p><span style="text-decoration:underline;">Explanation</span>:</p>
<p>The git alias is called &ldquo;<em>cherryfetch</em>&rdquo;. It starts with an exclamation point (<code>!</code>) which means it&rsquo;s a command to execute. It uses <code>$1</code> and <code>$2</code> as arguments, which thankfully exist in this environment! Because running a git alias causes the arguments to get appended to the command, the <code>&amp;&amp;</code> true part exists at the end to receive those commands so that they are silently ignored! This works because the command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ true ignored command line arguments
</span></span></code></pre></div><p>Does absolutely nothing but return success. Better naming suggestions for my alias are welcome!</p>
<p><span style="text-decoration:underline;">What does this particular alias do</span>?</p>
<p>Too often I receive a patch which has not been rebased against <em><em>my</em></em> current git master. This happens because the patch author started hacking on the feature against current git master, but git master grew new commits before the patch was done. The best solution is to ask the author to rebase against git master and resubmit, but when I&rsquo;m feeling helpful, I can now use <code>git cherryfetch</code> to do the same thing! When their patch is unrelated to my changes, this works perfectly.</p>
<p><span style="text-decoration:underline;">Example</span>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>$ git cherryfetch https://github.com/example_user/puppet-gluster.git feat/branch_name
</span></span><span style="display:flex;"><span>From https://github.com/example_user/puppet-gluster
</span></span><span style="display:flex;"><span>* branch            feat/branch_name -&gt; FETCH_HEAD
</span></span><span style="display:flex;"><span>[master abcdef01] Pi day is awesome, but Tau day is better! purpleidea/puppet-gluster#feat/branch_name
</span></span><span style="display:flex;"><span>Author: Example User &lt;user@example.com&gt;
</span></span><span style="display:flex;"><span>Date: Tue Mar 14 09:26:53 2015 -0400
</span></span><span style="display:flex;"><span>4 file changed, 42 insertions(+), 13 deletions(-)
</span></span></code></pre></div><p><span style="text-decoration:underline;">Manual learning</span>:</p>
<p>If you were to do the same thing manually, this operation is the equivalent of checking out a branch at the same commit this patch applies to, pulling the patch down (causing a fast-forward) running a <code>git rebase master</code>, switching to master and merging your newly rebased branch in.</p>
<p>My version is faster, isn&rsquo;t it?</p>
<p>Happy hacking!</p>
<p>James</p>
<p><strong>Update:</strong> I&rsquo;ve updated the alias so that it works with N commits. Thanks to <a href="https://twitter.com/dev_el_ops"> David Schmitt</a> for pointing it out, and <a href="https://twitter.com/felis_rex">Felix Frank</a> for finding a nicer solution!</p>
<p><br /><i>You can <a target="_blank" href="https://m9rx.com/">hire James</a> and his team at <a target="_blank" href="https://m9rx.com/">m9rx corporation</a>.</i>

<br /><i>You can <a target="_blank" href="https://mastodon.social/@purpleidea">follow James on Mastodon</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://twitter.com/intent/follow?screen_name=purpleidea">follow James on Twitter</a> for more frequent updates and other random thoughts.</i>

<br /><i>You can <a target="_blank" href="https://github.com/sponsors/purpleidea/">support James on GitHub</a> if you'd like to help sustain this kind of content.</i>

<br /><i>You can <a target="_blank" href="https://www.patreon.com/purpleidea">support James on Patreon</a> if you'd like to help sustain this kind of content.</i>
</p>

			</div>
		</div>

		
		<div class="col-md-3">
			<div class="well well-sm"> 
				<h4>March 16, 2015<br>
				<small>469 words</small></h4>
				<hr>
				<strong>Categories</strong>
				<ul class="list-unstyled">
				
					<li><a href="/categories/technical">technical</a></li>
				
				</ul>
				<hr>
				<strong>Tags</strong><br>
				<a class="label label-default" href="/tags/bash">bash</a> <a class="label label-default" href="/tags/cherry-pick">cherry-pick</a> <a class="label label-default" href="/tags/cherryfetch">cherryfetch</a> <a class="label label-default" href="/tags/devops">devops</a> <a class="label label-default" href="/tags/fedora">fedora</a> <a class="label label-default" href="/tags/git">git</a> <a class="label label-default" href="/tags/git-alias">git alias</a> <a class="label label-default" href="/tags/git-rebase">git rebase</a> <a class="label label-default" href="/tags/gluster">gluster</a> <a class="label label-default" href="/tags/planetdevops">planetdevops</a> <a class="label label-default" href="/tags/planetfedora">planetfedora</a> <a class="label label-default" href="/tags/planetpuppet">planetpuppet</a> <a class="label label-default" href="/tags/puppet">puppet</a> 
				
				<hr>
				<strong>Original URL</strong><br>
				<a href="https://ttboj.wordpress.com/2015/03/16/fancy-git-aliases-and-git-cherryfetch/"><small>https://ttboj.wordpress.com/2015/03/16/fancy-git-aliases-and-git-cherryfetch/</small></a>
				

				
			</div>
				<div class="panel panel-default">
		<div class="panel-heading" style="padding: 2px 15px;">
			<h4>Links...</h4>
		</div>
		<div class="panel-body">

			<a href="https://twitter.com/purpleidea" class="btn btn-info btn-xs"><i class="fa-brands fa-twitter-square fa-2x"></i></a>


			<a href="https://github.com/purpleidea/" class="btn btn-primary btn-xs"><i class="fa-brands fa-github-square fa-2x"></i></a>


			<a href="https://mastodon.social/@purpleidea" class="btn btn-primary btn-xs" style="background:#563ACC"><i class="fa-brands fa-mastodon fa-2x"></i></a>


	

			
		</div>
	</div>

		</div>
	</div>

	<div class="row">
		<hr>

	
<a name="comments"></a>
<section class="post-comments">
	<h3>Comments</h3>






	

	


	<p>Nothing yet.</p>

	<hr />
	<a name="comment"></a>
	<h3>Post a comment</h3>
	<form class="post-new-comment" method="POST" action="https://api.staticman.net/v2/entry/purpleidea/purpleidea.com/master/comments">
		<input type="hidden" name="options[redirect]" value="https://purpleidea.com/blog/2015/03/16/fancy-git-aliases-and-git-cherryfetch/#comment-submitted">
		<input type="hidden" name="options[entryId]" value="blog/2015/03/16/fancy-git-aliases-and-git-cherryfetch">
		<input type="hidden" name="options[reCaptcha][siteKey]" value="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp">
		<input type="hidden" name="options[reCaptcha][secret]" value="AEl4ul2uMOx2EL2LMm/84zzh8mWLYIYW&#43;v2EEu7webGOtAqyQiLBa6QLjPgnlyNjJxE3UeccxuBQIWqPzG96FsVl0AVTihhHt3OGR1hteAZUAhoJjnH&#43;7PoyC3x7d4KDLypopDn&#43;HzWowOpAZuvfHE08n&#43;G4omrP5fUfkOrH03A=">
		<div class="col-md-9">
			<div class="row">
				<textarea name="fields[message]" style="width: 80%; height: 50px;" class="post-comment-field" placeholder="Please enter your comment here..." rows="10"></textarea><br />
			</div>
			<div class="row">
				<input name="fields[name]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your name">
			</div>
			<div class="row">
				<input name="fields[email]" type="email" style="width: 50%;" class="post-comment-field" placeholder="Your email address">
			</div>
			<div class="row">
				<input name="fields[url]" type="text" style="width: 50%;" class="post-comment-field" placeholder="Your website">
			</div>
			<div class="row">
				<br />
				<div class="g-recaptcha" data-sitekey="6Lc0u2EUAAAAAImKX7XafINIzeoLZFQCGFKF7qCp"></div>
				<script src='https://www.google.com/recaptcha/api.js'></script>
				(sorry but the spammers were getting too crazy!)
			</div>
			<div class="row">
				<input type="submit" style="width: 80%;" class="post-comment-field btn btn-primary btn-xs" value="Submit">
			</div>
		</div>
	</form>
</section>

<div id="comment-submitted" class="dialog">
	<hr />
	<h3>Thank you</h3>
	<p>Your comment has been submitted and will be published if it gets approved.</p>
	<p><a href="https://github.com/purpleidea/purpleidea.com/pulls">Click here</a> to see the patch you generated.</p>
	<p><a href="#" class="btn">OK</a></p>
</div>


	</div>
		<footer>
		<div class="row">
			<hr>
			<div class="col-sm-12">
				<p>
				&copy; James Shubin 2025 &middot;
				<a href="https://purpleidea.com/">https://purpleidea.com/</a>
				
					&middot;
					<a href="https://github.com/purpleidea/purpleidea.com/blob/master/content/blog/2015/03/16/fancy-git-aliases-and-git-cherryfetch.md" style="color:grey">Edit this page</a>
				
				</p>
			</div>
		</div>
		</footer>
	</div>

	<script src="/js/jquery-1.11.3.min.js"></script>
	<script src="/js/bootstrap.js"></script>
</body>
</html>

